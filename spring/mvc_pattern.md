# MVC 패턴

## MVC 패턴이란?

> 모델-뷰-컨트롤러(model-view-controller, MVC)는 소프트웨어 공학에서 사용되는 소프트웨어 디자인 패턴이다. 이 패턴을 성공적으로 사용하면, 
> 사용자 인터페이스로부터 비즈니스 로직을 분리하여 애플리케이션의 시각적 요소나 그 이면에서 실행되는 비즈니스 로직을 서로 영향 없이 쉽게 고칠 수 있는 애플리케이션을 만들 수 있다. 
> MVC에서 모델은 애플리케이션의 정보(데이터)를 나타내며, 뷰는 텍스트, 체크박스 항목 등과 같은 사용자 인터페이스 요소를 나타내고, 
> 컨트롤러는 데이터와 비즈니스 로직 사이의 상호동작을 관리한다.


* MVC 패턴을 사용하면 사용자 인터페이스로부터 비즈니스 로직을 분리하여 비즈니스 로직을 쉽게 고칠 수 있는 애플리케이션이 된다.
* 과거에는 View에 모든 비즈니스 로직까지 넣어 코드의 길이가 길어지고 유지보수가 힘들어졌으나, 최근 MVC모델은 코드를 3가지로 나누어 개발을 하는 MVC가 기본적인 디자인 패턴이 되고 있다.

## Model, View, Controller

### Model
* Model은 데이터와 애플리케이션이 무엇을 할 것인지를 정의하는 부분으로 **내부 비즈니스 로직을 처리하기 위한 역할**을 함
* 모델은 컨트롤러가 호출하면 DB와 연동하여 사용자의 입출력 데이터를 다루는 일과 같이 데이터와 연관된 비즈니스 로직을 처리하는 역할을 함
* 데이터 추출, 저장, 삭제, 업데이트 등의 역할을 수행함

#### Model의 규칙
* 사용자가 편집하기를 원하는 모든 데이터를 갖고 있어야 함
* View나 Controller에 대해 어떤 정보도 알지 말아야 한다.
* 변경이 일어나면, 변경 통지에 대한 처리방법을 구현해야 한다.


### View
* View는 사용자에게 보여주는 화면(UI)이 해당됨.
* 사용자와 상호작용을 하며 컨트롤러로부터 받은 모델의 결과값을 사용자에게 화면으로 출력하는 일을 함.
* MVC에서는 여러개의 View가 존재할 수 있음.
* Model에서 받은 데이터는 별도로 저장하지 않음.

#### View의 규칙
* Model이 가지고 있는 정보를 따로 저장해서는 안됨
* Model이나 Controller처럼 다른 구성요소들을 몰라야 함
* 변경이 일어나면 변경 통지에 대한 처리방법을 구현해야만 함

> Model과 View는 서로의 존재를 몰라야 함

### Controller
* Controller는 Model과 View 사이를 이어주는 인터페이스 역할
* 즉, Model이 데이터를 어떻게 처리할지 알려주는 역할을 함
* 사용자로부터 View에 요청이 있으면 Controller는 해당 업무를 수행하는 Model을 호출하고 Model이 업무를 모두 수행하면 다시 결과를 View에 전달하는 역할을 함

#### Controller의 규칙
* Model이나 View에 대해 알고 있어야 함
* Model이나 View의 변경에 대해 모니터링 해야 함


## MVC 구동 원리

![image](https://user-images.githubusercontent.com/36829127/178463322-2485efaf-d773-4833-a0da-783e79ed3d57.png)


1. 웹 브라우저가 웹 서버에 웹 애플리케이션 실행을 요청한다.
2. 웹 서버는 들어온 요청을 처리할 수 있는 서블릿을 찾아서 요청을 전달한다.
3. 서블릿은 모델 자바 객체의 메서드를 호출한다.
4. 데이터를 가공하여 값 객체를 생성하거나, JDBC를 사용하여 데이터베이스와의 인터랙션을 통해 값 객체를 생성한다.
5. 업무 수행을 마친 결과값을 컨트롤러에게 반환한다.
6. 컨트롤러는 모델로부터 받은 결과값을 View에게 전달한다.
7. JSP는 전달받은 값을 참조하여 출력할 결과 화면을 만들고 컨트롤러에게 전달한다.
8. 뷰로부터 받은 화면을 웹 서버에게 전달한다.
9. 웹 브라우저는 웹 서버로부터 요청한 결과값을 응답받으면 그 값을 화면에 출력한다.

## MVC 장단점

### MVC 장점

* 기능별로 코드를 분리하여 하나의 파일에 코드가 모이는 것을 방지하여 가독성과 코드의 재사용이 증가한다.
* 각 구성요소들을 독립시켜 협업을 할 때 맡은 부분의 개발에만 집중할 수 있어 개발의 효율성을 높여준다. 
* 개발 후에도 유지보수성과 확장성이 보장된다.


### MVC 단점
* Model과 View는 서로의 정보를 갖고 있지 않는 독립적인 상태라고 하지만 Model과 View사이에는 Controller를 통해 소통을 이루기에 의존성이 완전히 분리될 수 없다.
  * 따라서 대규모의 프로그램의 경우 다수의 View와 Model이 Controller와 연결되기 때문에 Controller가 커지는 현상이 발생한다.
  * 이와 같은 현상을 Massive-View-Controller 현상이라고 한다.


